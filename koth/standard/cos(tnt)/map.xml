<?xml version="1.0"?>
<map proto="1.3.5">
<name>cos(tnt)</name>
<version>0.85</version>
<objective>You must be the first team to get to 2,250 points!</objective>
<authors>
    <author uuid="dad8b95c-cf6a-44df-982e-8c8dd70201e0"/> <!-- ElectroidFilms -->
</authors>
<contributors>
    <contributor uuid="3fbec7dd-0a5f-40bf-9d11-885a54507112"/> <!-- last_username -->
</contributors>
<rules>
    <rule>Spawn killing/camping is ALLOWED</rule>
</rules>
<teams>
    <team id="red" color="dark red" max="16">Red</team>
    <team id="blue" color="blue" max="16">Blue</team>
    <team id="yellow" color="yellow" max="16">Yellow</team>
</teams>
<spawns>
    <spawn team="yellow" kit="yellow" filter="has-no-iron-armour" yaw="0">
        <cuboid min="5,62,64" max="10,63,66"/>
    </spawn>
    <spawn team="blue" kit="blue" filter="has-no-iron-armour" yaw="0">
        <cuboid min="5,57,64" max="10,58,66"/>
    </spawn>
    <spawn team="red" kit="red" filter="has-no-iron-armour" yaw="0">
        <cuboid min="5,52,64" max="10,53,66"/>
    </spawn>
    <spawn team="yellow" kit="yellow-has-iron" filter="has-iron-armour" yaw="0">
        <cuboid min="5,62,64" max="10,63,66"/>
    </spawn>
    <spawn team="blue" kit="blue-has-iron" filter="has-iron-armour" yaw="0">
        <cuboid min="5,57,64" max="10,58,66"/>
    </spawn>
    <spawn team="red" kit="red-has-iron" filter="has-iron-armour" yaw="0">
        <cuboid min="5,52,64" max="10,53,66"/>
    </spawn>
    <default angle="5.5,68,70.5">
        <point yaw="0">8,66,65</point>
        <point yaw="-180">8,66,75</point>
    </default>
</spawns>
<kits>
    <kit name="obs">
        <potion duration="oo">night vision</potion>
    </kit>
    <kit name="teams" parents="obs">
        <item slot="0" unbreakable="true" attributes="generic.attackDamage:add:7">diamond pickaxe</item>
        <item slot="27" unbreakable="true" name="`6TNT Defuser" lore="`7Right click to defuse team griefer's TNT|`7Does not work in `9water`7.|`7Use `a/report `7to alert the staff!">shears</item>
        <item slot="9" amount="64">tnt</item>
        <item slot="1" unbreakable="true" enchantment="arrow infinite:1">bow</item>
        <item slot="28">arrow</item>
        <item slot="10" amount="64">tnt</item>
        <item slot="2" amount="64">vine</item>
        <item slot="29" amount="64">vine</item>
        <item slot="11" amount="64">tnt</item>
        <item slot="4" amount="64">nether fence</item>
        <item slot="31" amount="64">step</item>
        <item slot="22" amount="16">ladder</item>
        <item slot="5" amount="16">stone button</item>
        <item slot="32" amount="8">stone plate</item>
        <item slot="23" amount="16">lever</item>
        <item slot="14" amount="16">trap door</item>
        <item slot="6">water bucket</item>
        <item slot="33">water bucket</item>
        <item slot="24">water bucket</item>
        <item slot="15" amount="16">piston base</item>
        <item slot="7" amount="16">redstone block</item>
        <item slot="34" amount="64">redstone</item>
        <item slot="25" amount="16">redstone torch on</item>
        <item slot="16" amount="16">diode</item>
        <item slot="8" amount="64">tnt</item>
        <item slot="17" amount="8">redstone comparator</item>
        <chestplate name="`bSuper Chestplate" unbreakable="true" enchantment="protection explosions:1;oxygen:1;water worker:1;protection fall:4;protection projectile:1" attributes="generic.movementSpeed:base:0.1" locked="true">diamond chestplate</chestplate>
        <potion duration="oo">saturation</potion>
    </kit>
    <kit name="blue" parents="teams">
        <item slot="13" damage="11" amount="64">stained glass</item>
        <item slot="3" damage="11" amount="64">stained clay</item>
        <item slot="30" damage="11" amount="64">stained clay</item>
        <item slot="21" damage="11" amount="64">stained clay</item>
        <item slot="12" damage="11" amount="64">stained clay</item>
        <helmet unbreakable="true" color="334CB2">leather helmet</helmet>
        <leggings unbreakable="true" color="334CB2">leather leggings</leggings>
        <boots unbreakable="true" color="334CB2">leather boots</boots>
    </kit>
    <kit name="red" parents="teams">
        <item slot="13" damage="14" amount="64">stained glass</item>
        <item slot="3" damage="14" amount="64">stained clay</item>
        <item slot="30" damage="14" amount="64">stained clay</item>
        <item slot="21" damage="14" amount="64">stained clay</item>
        <item slot="12" damage="14" amount="64">stained clay</item>
        <helmet unbreakable="true" color="dd5566">leather helmet</helmet>
        <leggings unbreakable="true" color="dd5566">leather leggings</leggings>
        <boots unbreakable="true" color="dd5566">leather boots</boots>
    </kit>
    <kit name="yellow" parents="teams">
        <item slot="13" damage="4" amount="64">stained glass</item>
        <item slot="3" damage="4" amount="64">stained clay</item>
        <item slot="30" damage="4" amount="64">stained clay</item>
        <item slot="21" damage="4" amount="64">stained clay</item>
        <item slot="12" damage="4" amount="64">stained clay</item>
        <helmet unbreakable="true" color="E5E533">leather helmet</helmet>
        <leggings unbreakable="true" color="E5E533">leather leggings</leggings>
        <boots unbreakable="true" color="E5E533">leather boots</boots>
    </kit>
    <kit name="blue-has-iron" parents="teams">
        <item slot="13" damage="11" amount="64">stained glass</item>
        <item slot="3" damage="11" amount="64">stained clay</item>
        <item slot="30" damage="11" amount="64">stained clay</item>
        <item slot="21" damage="11" amount="64">stained clay</item>
        <item slot="12" damage="11" amount="64">stained clay</item>
    </kit>
    <kit name="red-has-iron" parents="teams">
        <item slot="13" damage="14" amount="64">stained glass</item>
        <item slot="3" damage="14" amount="64">stained clay</item>
        <item slot="30" damage="14" amount="64">stained clay</item>
        <item slot="21" damage="14" amount="64">stained clay</item>
        <item slot="12" damage="14" amount="64">stained clay</item>
    </kit>
    <kit name="yellow-has-iron" parents="teams">
        <item slot="13" damage="4" amount="64">stained glass</item>
        <item slot="3" damage="4" amount="64">stained clay</item>
        <item slot="30" damage="4" amount="64">stained clay</item>
        <item slot="21" damage="4" amount="64">stained clay</item>
        <item slot="12" damage="4" amount="64">stained clay</item>
    </kit>
</kits>
<filters>
    <filter name="only-red">
        <team>red</team>
    </filter>
    <filter name="only-blue">
        <team>blue</team>
    </filter>
    <filter name="only-yellow">
        <team>yellow</team>
    </filter>
    <filter name="hill-materials">
        <any>
            <block>stained clay</block>
            <block>stained glass</block>
        </any>
    </filter>
    <filter name="only-explosives">
        <any>
            <block>redstone torch on</block>
            <block>redstone block</block>
            <block>tnt</block>
        </any>
    </filter>
    <filter name="not-glass">
        <all>
            <not>
                <block>stained glass</block>
            </not>
            <cause>player</cause>
        </all>
    </filter>
    <filter name="has-iron-armour">
        <any>
            <wearing>
                <item>iron helmet</item>
            </wearing>
            <wearing>
                <item>iron chestplate</item>
            </wearing>
            <wearing>
                <item>iron boots</item>
            </wearing>
        </any>
    </filter>
    <filter name="has-no-iron-armour">
        <not>
            <any>
                <wearing>
                    <item>iron helmet</item>
                </wearing>
                <wearing>
                    <item>iron chestplate</item>
                </wearing>
                <wearing>
                    <item>iron boots</item>
                </wearing>
            </any>
        </not>
    </filter>
</filters>
<regions>
    <rectangle name="all" min="-oo,-oo" max="oo,oo"/>
    <cuboid name="between-25-and-26" min="-oo,25,-oo" max="oo,26,oo"/>
    <cuboid name="above-26" min="-oo,26,-oo" max="oo,oo,oo"/>
    <complement name="obs-spawn"> <!-- Allows portals to take yellow back into the region -->
        <cuboid name="obs-spawn-outer" min="14,51,78" max="2,oo,62"/>
        <cuboid name="obs-spawn-inner" min="13,52,77" max="3,65,63"/>
    </complement>
    <complement name="map">
        <union>
            <rectangle name="main" min="155,30" max="-140,110"/>
            <rectangle name="spawn-to-spawn" min="0,0" max="15,140"/>
            <rectangle name="blue-2nd-entry" min="-45,60" max="-60,0"/>
            <rectangle name="red-2nd-entry" min="60,80" max="75,140"/>
        </union>
        <rectangle name="red-dash" min="60,98" max="15,110"/>
        <rectangle name="blue-dash" min="0,30" max="-45,42"/>
    </complement>
    <union name="spawns">
        <union name="blue-spawns">
            <rectangle min="-15,15" max="0,0"/>
            <rectangle min="-45,15" max="-60,0"/>
        </union>
        <union name="red-spawns">
            <rectangle min="30,125" max="15,140"/>
            <rectangle min="60,125" max="75,140"/>
        </union>
        <union name="yellow-spawns">
            <rectangle min="120,45" max="135,30"/>
            <rectangle min="-120,110" max="-105,95"/>
        </union>
    </union>
    <union name="points">
        <cuboid name="south-point" min="-15,0,110" max="-30,7,80"/>
        <cuboid name="west-point" min="-80,0,45" max="-99,7,62"/>
        <cuboid name="north-point" min="30,0,60" max="45,7,30"/>
        <cuboid name="east-point" min="114,0,78" max="95,7,95"/>
    </union>
    <union name="above-points">
        <cuboid name="above-south-point" min="-15,7,110" max="-30,26,80"/>
        <cuboid name="above-west-point" min="-80,7,45" max="-99,26,62"/>
        <cuboid name="above-north-point" min="30,7,60" max="45,26,30"/>
        <cuboid name="above-east-point" min="114,7,78" max="95,26,95"/>
    </union>
    <union name="yellow-portals">
        <cuboid name="yellow-west-portal" min="4,62,75" max="3,65,67"/>
        <cuboid name="yellow-east-portal" min="12,62,67" max="13,65,75"/>
        <union name="back-to-yellow">
            <block>122.5,7,32.5</block>
            <block>-107.5,7,107.5</block>
        </union>
    </union>
    <union name="blue-portals">
        <cuboid name="blue-west-portal" min="4,57,75" max="3,60,67"/>
        <cuboid name="blue-north-portal" min="12,57,67" max="13,60,75"/>
        <union name="back-to-blue">
            <block>-12.5,7,2.5</block>
            <block>-57.5,7,2.5</block>
        </union>
    </union>
    <union name="red-portals">
        <cuboid name="red-south-portal" min="4,52,75" max="3,55,67"/>
        <cuboid name="red-east-portal" min="12,52,67" max="13,55,75"/>
        <union name="back-to-red">
            <block>72.5,7,137.5</block>
            <block>27.5,7,137.5</block>
        </union>
    </union>
    <!-- Block Rules -->
    <apply block="deny-all" message="You may not edit the spawn island">
        <region name="spawns"/>
    </apply>
    <apply block-break="not-glass" message="You may not edit the capture point">
        <region name="points"/>
    </apply>
    <apply block="deny-all" message="You may not edit above the height limit">
        <region name="above-26"/>
    </apply>
    <!-- Patches not being able to bridge across from red/blue secondary spawns -->
    <apply block="allow-all">
        <rectangle name="red-patch" min="75,100" max="155,95"/>
        <rectangle name="blue-patch" min="-60,40" max="-140,45"/>
    </apply>
    <apply block="deny-all" message="You may not edit outside the map">
        <negative>
            <region name="map"/>
        </negative>
        <!-- Patch bridiging off the sides near yellow -->
        <rectangle min="-60,30" max="-140,45"/>
        <rectangle min="75,110" max="155,95"/>
    </apply>
    <apply block="only-explosives" message="Only redstone blocks, tnt, and torches are allowed here">
        <region name="between-25-and-26"/>
    </apply>
    <!-- Entry Rules -->
    <apply enter="only-blue" message="You may not enter the enemy spawn island">
        <region name="blue-spawns"/>
    </apply>
    <apply enter="only-red" message="You may not enter the enemy spawn island">
        <region name="red-spawns"/>
    </apply>
    <apply enter="only-yellow" message="You may not enter the enemy spawn island">
        <region name="yellow-spawns"/>
    </apply>
    <apply enter="deny-all" message="You may not enter the observer spawn area!">
        <region name="obs-spawn"/>
    </apply>
</regions>
<portals filter="only-yellow">
    <portal x="@127.5" y="@7.5" z="@37.5" yaw="@-90">
        <region name="yellow-east-portal"/>
    </portal>
    <portal x="@-112.5" y="@7.5" z="@102.5" yaw="@90">
        <region name="yellow-west-portal"/>
    </portal>
    <portal x="@8" y="@62.5" z="@65" yaw="@0">
        <region name="back-to-yellow"/>
    </portal>
</portals>
<portals filter="only-blue">
    <portal x="@-52.5" y="@7.5" z="@7.5" yaw="@0">
        <region name="blue-west-portal"/>
    </portal>
    <portal x="@-7.5" y="@7.5" z="@7.5" yaw="@-90">
        <region name="blue-north-portal"/>
    </portal>
    <portal x="@8" y="@57.5" z="@65" yaw="@0">
        <region name="back-to-blue"/>
    </portal>
</portals>
<portals filter="only-red">
    <portal x="@22.5" y="@7.5" z="@132.5" yaw="@90">
        <region name="red-south-portal"/>
    </portal>
    <portal x="@67.5" y="@7.5" z="@132.5" yaw="@180">
        <region name="red-east-portal"/>
    </portal>
    <portal x="@8" y="@52.5" z="@65" yaw="@0">
        <region name="back-to-red"/>
    </portal>
</portals>
<king>
    <hills capture-time="30s" points="1" capture-rule="lead" neutral-state="false" time-multiplier="0.5" points-growth="1200" visual-materials="hill-materials">
        <hill id="south-point" name="South">
            <capture>
                <cuboid min="-15,7,110" max="-30,27,80"/>
            </capture>
            <progress>
                <cuboid min="-15,0,110" max="-30,7,80"/>
            </progress>
            <captured>
                <cuboid min="-15,6,120" max="-30,25,121"/>
            </captured>
        </hill>
        <hill id="west-point" name="West">
            <capture>
                <cuboid min="-80,7,45" max="-99,27,62"/>
            </capture>
            <progress>
                <cuboid min="-80,0,45" max="-99,7,62"/>
            </progress>
            <captured>
                <cuboid min="-99,6,34" max="-80,25,35"/>
            </captured>
        </hill>
        <hill id="north-point" name="North">
            <capture>
                <cuboid min="30,7,60" max="45,27,30"/>
            </capture>
            <progress>
                <cuboid min="30,0,60" max="45,7,30"/>
            </progress>
            <captured>
                <cuboid min="30,6,19" max="45,25,20"/>
            </captured>
        </hill>
        <hill id="east-point" name="East">
            <capture>
                <cuboid min="114,7,78" max="95,27,95"/>
            </capture>
            <progress>
                <cuboid min="114,0,78" max="95,7,95"/>
            </progress>
            <captured>
                <cuboid min="95,6,105" max="114,25,106"/>
            </captured>
        </hill>
    </hills>
</king>
<score>
    <limit>2250</limit>
    <deaths>0</deaths>
    <kills>1</kills>
</score>
<king/>
<blockdrops>
    <rule>
        <filter>
            <block>iron block</block>
        </filter>
        <drops>
            <item damage="-100">iron helmet</item>
            <item damage="-100">iron leggings</item>
            <item attributes="generic.movementSpeed:base:0.10">iron boots</item>
        </drops>
    </rule>
    <rule>
        <filter>
            <block>diamond block</block>
        </filter>
        <drops>
            <item damage="359" attributes="generic.movementSpeed:base:0.20;generic.knockbackResistance:add:1" enchantment="protection explosions:2">diamond boots</item>
            <item name="`6Grenade" amount="8" grenade="true" grenade-power="1.5">snow ball</item>
        </drops>
    </rule>
    <!--<rule>
        <filter>
            <any>
                <block>stained clay:3</block>
                <block>stained clay:4</block>
                <block>stained clay:9</block>
                <block>stained clay:11</block>
                <block>stained clay:14</block>
                <block>water</block>
                <block>stationary water</block>
            </any>
        </filter>
        <fall-chance>0.35</fall-chance>
        <land-chance>0.5</land-chance>
        <fall-speed>0.75</fall-speed>
        <drops/>
    </rule>-->
</blockdrops>
<renewables>
    <renewable interval="1m" grow="true" avoid-entities="true" particles="false" sound="false">
        <region>
            <cuboid min="-140,0,140" max="155,25,0"/>
        </region>
        <renew-filter>
            <not>
                <block>stained glass</block>
                <block>air</block>
            </not>
        </renew-filter>
        <replace-filter>
            <any>
                <block>air</block>
                <block>water</block>
                <block>stationary water</block>
            </any>
        </replace-filter>
    </renewable>
    <renewable rate="1" grow="false" avoid-entities="true" particles="false" sound="false">
        <region>
            <region name="points"/>
        </region>
        <renew-filter>
            <not>
                <block>stained glass</block>
                <block>air</block>
            </not>
        </renew-filter>
        <replace-filter>
            <any>
                <block>air</block>
                <block>water</block>
                <block>stationary water</block>
            </any>
        </replace-filter>
    </renewable>
</renewables>
<modes boss-bar="true">
    <!-- Drop Zone Modes -->
    <mode show-before="90s" after="5m" material="iron block" name="`3Dropping an `airon `3supply"/>
    <mode show-before="90s" after="10m" material="diamond block" name="`3Dropping an `airon/diamond `3supply"/>
    <mode show-before="90s" after="15m" material="iron block" name="`3Dropping an `airon `3supply"/>
    <mode show-before="90s" after="20m" material="diamond block" name="`3Dropping an `airon/diamond `3supply"/>
    <mode show-before="90s" after="25m" material="iron block" name="`3Dropping an `airon `3supply"/>
    <mode show-before="90s" after="30m" material="diamond block" name="`3Dropping an `airon/diamond `3supply"/>
    <!-- Point Growth Modes -->
    <mode show-before="60s" after="21m" material="diamond block" name="`3All hills gain points `a2x `3faster"/>
</modes>
<destroyables show="false" name="drop-zones" materials="stained clay:9" owner="yellow" completion="0%" mode-changes="true">
    <destroyable id="south-drop-zone">
        <cuboid min="-54,32,86" max="-51,36,89"/>
    </destroyable>
    <destroyable id="north-drop-zone">
        <cuboid min="66,32,54" max="69,36,51"/>
    </destroyable>
</destroyables>
<broadcasts>
    <alert after="1s">`a`oEvery `65 `a`ominutes there is an iron supply drop</alert>
    <alert after="2s">`a`oEvery `610 `a`ominutes there is a diamond supply drop</alert>
</broadcasts>
<itemremove>
    <item>diamond pickaxe</item>
    <item>bow</item>
    <item>workbench</item>
    <item>shears</item>
    <item>wood sword</item>
    <item>arrow</item>
    <item>vine</item>
    <item>stained clay</item>
    <item>stained glass</item>
    <item>nether fence</item>
    <item>step</item>
    <item>ladder</item>
    <item>trap door</item>
    <item>stone plate</item>
    <item>piston base</item>
    <item>redstone block</item>
    <item>redstone</item>
    <item>stone button</item>
    <item>lever</item>
    <item>redstone torch on</item>
    <item>diode</item>
    <item>water bucket</item>
    <item>bucket</item>
    <item>tnt</item>
    <item>leather helmet</item>
    <item>diamond chestplate</item>
    <item>leather leggings</item>
    <item>leather boots</item>
    <item>bucket</item>
    <item>diamond block</item>
    <item>iron block</item>
    <item>iron ingot</item>
    <item>hopper</item>
    <item>redstone comparator</item>
    <item>sand</item>
    <item>chainmail chestplate</item>
    <item>dispenser</item>
</itemremove>
<armorkeep>
    <item>iron helmet</item>
    <item>iron leggings</item>
    <item>iron boots</item>
    <item>diamond boots</item>
</armorkeep>
<itemkeep>
    <item>dispenser</item>
</itemkeep>
<killreward>
    <filter>
        <kill-streak count="1" repeat="true"/>
    </filter>
    <item amount="32">tnt</item>
    <item name="`rAuto TNT Machine" lore="`7You will receive an addition dispenser every kill!">dispenser</item>
</killreward>
<disabledamage>     
    <damage ally="true" enemy="false" self="false" other="false">block explosion</damage>       
</disabledamage>
<tnt>
    <power>4</power>
    <fuse>4s</fuse>
    <yield>0</yield>
    <instantignite>false</instantignite>
    <blockdamage>true</blockdamage>
    <dispenser-tnt-limit>48</dispenser-tnt-limit>
    <dispenser-tnt-multiplier>0.75</dispenser-tnt-multiplier>
</tnt>
</map>
